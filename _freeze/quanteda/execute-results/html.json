{
  "hash": "95d3d75b137725a6a754ddd2bea315a3",
  "result": {
    "engine": "knitr",
    "markdown": "# Introduction to Quanteda {#sec-quanteda}\n\n\n\n\n\nFor all analyses involving separating text into smaller units (e.g. words), this book will use the **Quanteda** family of packages. While it lacks some of the conceptual elegance of [the tidyverse](https://www.tidyverse.org), Quanteda is indispensable because of its scope and efficiency---Quanteda functions are faster to write, faster to run, and applicable to a wider variety of uses than any other text analysis framework in R. Beyond the base `quanteda` package, Quanteda offers a plethora of specialized extensions, for example:\n\n-   `quanteda.textstats`: Metrics for similarity, readability, lexical diversity, and more\n-   `quanteda.dictionaries`: Dictionaries for word counting applications\n-   `quanteda.sentiment`: Tools for advanced dictionary-based sentiment analysis (see @sec-word-counting-improvements)\n\nQuanteda is also well documented. See the [Quanteda tutorials webpage](https://tutorials.quanteda.io) for details on file formats and methods not covered in this book. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(quanteda)\n```\n:::\n\n\nThe home-base of any Quanteda analysis is the _corpus_. A corpus is a static container holding a library of text documents and associated properties of those documents, called _docvars_. Later, when we apply complex transformations to our texts (such as splitting them into words), we will need to first store them as a corpus.\n\nYou can create corpora from a variety of data formats, but we will begin with a dataframe containing our text variable, `story`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhippocorpus_df <- read_csv(\"data/hippocorpus-u20220112/hcV3-stories.csv\") |> \n  select(AssignmentId, story, memType, summary, WorkerId, \n         annotatorGender, openness, timeSinceEvent)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Rows: 6854 Columns: 23\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr (12): AssignmentId, WorkerId, annotatorGender, annotatorRace, mainEvent,...\n#> dbl (11): WorkTimeInSeconds, annotatorAge, distracted, draining, frequency, ...\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(hippocorpus_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 6 × 8\n#>   AssignmentId           story memType summary WorkerId annotatorGender openness\n#>   <chr>                  <chr> <chr>   <chr>   <chr>    <chr>              <dbl>\n#> 1 32RIADZISTQWI5XIVG5BN… Conc… imagin… My boy… E9TY34YY man                 0   \n#> 2 3018Q3ZVOJCZJFDMPSFXA… The … recall… My boy… 237K2NI1 woman               1   \n#> 3 3IRIK4HM3B6UQBC0HI8Q5… It s… imagin… My sis… FK5QTANB woman               0.5 \n#> 4 3018Q3ZVOJCZJFDMPSFXA… Five… recall… My sis… UYOSBBRS woman               1   \n#> 5 3MTMREQS4W44RBU8OMP3X… Abou… imagin… It is … 34BFLNJV man                 0.25\n#> 6 3018Q3ZVOJCZJFDMPSFXA… Burn… recall… It is … L427B0E0 woman               1   \n#> # ℹ 1 more variable: timeSinceEvent <dbl>\n```\n\n\n:::\n:::\n\n\nTo turn this into a corpus with the `corpus()` constructor, specify the text variable and a unique identifier by name. All other variables will automatically become _docvars_.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhippocorpus_corp <- corpus(hippocorpus_df, \n                           docid_field = \"AssignmentId\", \n                           text_field = \"story\")\nhippocorpus_corp\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> Corpus consisting of 6,854 documents and 6 docvars.\n#> 32RIADZISTQWI5XIVG5BN0VMYFRS4U :\n#> \"Concerts are my most favorite thing, and my boyfriend knew i...\"\n#> \n#> 3018Q3ZVOJCZJFDMPSFXATCQ4DARA2 :\n#> \"The day started perfectly, with a great drive up to Denver f...\"\n#> \n#> 3IRIK4HM3B6UQBC0HI8Q5TBJZLEC61 :\n#> \"It seems just like yesterday but today makes five months ago...\"\n#> \n#> 3018Q3ZVOJCZJFDMPSFXATCQG04RAI :\n#> \"Five months ago, my niece and nephew were born.  They are my...\"\n#> \n#> 3MTMREQS4W44RBU8OMP3XSK8NMJAWZ :\n#> \"About a month ago I went to burning man. I was having a hard...\"\n#> \n#> 3018Q3ZVOJCZJFDMPSFXATCQG06AR3 :\n#> \"Burning Man metamorphoses was perfect. I am definitely still...\"\n#> \n#> [ reached max_ndoc ... 6,848 more documents ]\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}