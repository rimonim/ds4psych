{
  "hash": "2cd8fcff083a6fbcb8f5ba4779906eb0",
  "result": {
    "engine": "knitr",
    "markdown": "# Why Aesthetic Choices are Important {#sec-aesthetics}\n\nTake a moment to appreciate this comic from [xkcd.com](https://xkcd.com/2864/):\n\n\n\n\n\n[![](https://imgs.xkcd.com/comics/compact_graphs.png){fig-alt=\"Comic from xkcd.com\"}](https://xkcd.com/2864/)\n\nFor most people, aesthetics is the art of making things pleasant to look at. To the data visualizer though, \"aesthetics\" means something much more precise: Aesthetics are the visual representation of variables.\n\nJust as journalists need to decide which words to use to express their ideas, data visualizers need to decide which aesthetics to use to express their variables.\n\nThere are many options. Below are six different ways to represent the numbers \"1\", \"2\", and \"3\", each mapping them to a different aesthetic.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](aesthetics_files/figure-html/unnamed-chunk-1-1.png){width=768}\n:::\n:::\n\n\nLet's take a concrete example. @eichstaedt_etal_2015 collected Twitters posts from 935 U.S. counties, and counted the number of words related to positive emotions. This emotional measure could then be connected with known demographic measures of each county, such as race and average income.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(twitter_counties)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> # A tibble: 6 Ã— 5\n#>   county   state income posEmotions maj                        \n#>   <chr>    <chr>  <dbl>       <dbl> <chr>                      \n#> 1 Autauga  AL     55165     0.00549 Majority Non-Black/Hispanic\n#> 2 Baldwin  AL     50006     0.00670 Majority Non-Black/Hispanic\n#> 3 Blount   AL     43450     0.00336 Majority Non-Black/Hispanic\n#> 4 Butler   AL     29769     0.00407 Majority Non-Black/Hispanic\n#> 5 Calhoun  AL     38473     0.00448 Majority Non-Black/Hispanic\n#> 6 Chambers AL     30546     0.00523 Majority Non-Black/Hispanic\n```\n\n\n:::\n:::\n\n\nThere are many ways to present this information graphically. Each choice emphasizes a different aspect of the data, and tells a different story.\n\nIn the following visualization,\n\n-   `income` is mapped to the \"x\" position aesthetic\n-   `posEmotions` (positive emotions) is mapped to the \"y\" position aesthetic\n-   `maj` (racial majority) is mapped to the color aesthetic\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggborderline) # for making the lines pop\n\ntwitter_counties |> \n  ggplot(\n    aes(income, posEmotions, \n        # rearrange the categorical variable so that the order \n        # in the legend matches the order in the plot\n        color = factor(\n          maj, \n          levels = c(\"Majority Non-Black/Hispanic\", \n                     \"Majority Hispanic\", \n                     \"Majority Black\")\n          )\n        )\n    ) +\n    # scatterplot\n    geom_point(alpha = .5, \n               # draw sample such that \"Majority Non-Black/Hispanic\" \n               # points don't overpower the others\n               data = twitter_counties |> \n                 group_by(maj) |> \n                 slice_sample(n = 100)) +\n    # loess regression\n    stat_smooth(\n      # borders that match the lines, but are slightly darker\n      aes(bordercolor = after_scale(colorspace::darken(color))), \n      se = FALSE, geom = \"borderline\", \n      linewidth = 1, lineend = \"square\"\n      ) +\n    theme_bw() +\n    # nicer color palette\n    scale_color_brewer(\n      palette = \"Paired\", \n      direction = -1\n      ) +\n    # proper formatting for income\n    scale_x_continuous(labels=scales::dollar_format()) +\n    labs(\n      x = \"County Average Income\",\n      y = \"Positive Emotional Words in Twitter Posts\\n(proportion of total words)\",\n      color = \"\"\n      )\n```\n\n::: {.cell-output-display}\n![](aesthetics_files/figure-html/unnamed-chunk-4-1.png){width=768}\n:::\n:::\n\n\nThis is the most intuitive way to organize the three variables. By mapping income to the x axis, we lightly suggest that it is the cause of whatever is happening on the y axis---in this case positive emotion. The idea that higher income causes positive emotion is intuitive---any people believe they would be happier with a higher income. People accustomed to languages that are written left-to-right, like English, will tend to think about what happens as they move left to right on the graph. Three LOESS regression lines encourage the viewer to compare the slopes of the three color groups, which they will go through from top to bottom:\n\n1.  In counties without a Black or Hispanic majority, greater income means more positive emotion, up to about \\$60,000 a year, when the line starts flattening out.\n2.  In counties with a majority Hispanic population, greater income means dramatically more positive emotion, on average.\n3.  In counties with a majority Black population, greater income doesn't seem to make much of a difference.\n\nBut just because this scheme is the most intuitive does not mean it is the best one.\n\nThe next visualization shows the same data but tells a different story. This one also has x, y, and color, but they are mapped to the variables differently:\n\n-   `income` is binned and mapped to the \"x\" position aesthetic\n-   `maj` (racial majority) is mapped to the \"y\" position aesthetic\n-   `posEmotions` (positive emotions) is mapped to the \"fill\" color aesthetic\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntwitter_counties |> \n  # hand-made bins (note the inconsistent bin width to \n  # give more space to the center of the distribution) \n  mutate(\n    income = factor( \n      case_when(\n        income > 100000 ~ \"$100,000+\",\n        income > 80000 ~ \"$80,000-$100,000\",\n        income > 60000 ~ \"$60,000-$80,000\",\n        income > 50000 ~ \"$50,000-$60,00\",\n        income > 40000 ~ \"$40,000-$50,00\",\n        .default = \"$20,000-$40,00\"),\n      levels = c(\"$20,000-$40,00\", \n                 \"$40,000-$50,00\",\n                 \"$50,000-$60,00\", \n                 \"$60,000-$80,000\",\n                 \"$80,000-$100,000\",\n                 \"$100,000+\")\n      )\n    ) |> \n  # aggregate by the new bins\n  group_by(income, maj) |> \n  summarise(\n    posEmotions = mean(posEmotions, \n                       na.rm = TRUE)\n    ) |> \n  # plot\n  ggplot(aes(income, maj, fill = posEmotions)) +\n    # tiles with a little bit of space in between\n    geom_tile(width = .95, height = .95) +\n    # minimal theme\n    theme_minimal() +\n    # color scale to emphasize differences between extremes\n    scale_fill_gradient2(low = \"blue\", \n                         mid = \"green\", \n                         high = \"yellow\", \n                         midpoint = .0055) +\n    labs(\n      x = \"County Average Income\",\n      y = \"\",\n      fill = \"Positive Emotional Words\\nin Twitter Posts\\n(proportion of total words)\"\n      ) +\n    theme(\n      # angles x axis text to fit it all in\n      axis.text.x = element_text(angle = 30, hjust = 1), \n      axis.title = element_text(size = 8),\n      legend.title = element_text(size = 8)\n      ) +\n    # constrain the tiles to be perfectly square\n    coord_equal()\n```\n\n::: {.cell-output-display}\n![](aesthetics_files/figure-html/unnamed-chunk-5-1.png){width=768}\n:::\n:::\n\n\nUsing fill makes it harder to see the slope within each racial group, and easier to see the differences between them. The vertical ordering from most positive emotion (in majority non-Black/Hispanic counties) to least positive emotion (majority Black counties) emphasizes this even more. The blank squares on the grid also make the point that there are no majority Black or Hispanic counties with average incomes above \\$80,000.\n\nLet's try one more way to present these data. In this visualization,\n\n-   `income` is mapped to the \"y\" position aesthetic\n-   `posEmotions` (positive emotions) is mapped to the \"color\" aesthetic\n-   `maj` (racial majority) is mapped to the \"x\" position aesthetic\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(2023)\ntwitter_counties |> \n  ggplot(aes(maj, income, fill = posEmotions)) +\n    # sina plot\n    ggbeeswarm::geom_quasirandom(\n      aes(color = after_scale(colorspace::darken(fill, .3))), \n      alpha = .5, method = \"pseudorandom\", \n      shape = 21, varwidth = TRUE\n      ) +\n    # color scheme which maximizes the visibility of different \n    # values among the crowd (this is a losing battle)\n    scale_fill_gradient2(low = \"red\", \n                         mid = \"white\", \n                         high = \"blue\", \n                         midpoint = .005) +\n    # unintrusive theme\n    theme_bw() +\n    # log scale, and proper formatting for income\n    scale_y_continuous(\n      labels=scales::dollar_format(), \n      trans = \"log10\"\n      ) +\n    labs(\n      x = \" \",\n      y = \"County Average Income\",\n      fill = \"Positive Emotional Words\\nin Twitter Posts\\n(proportion of total words)\"\n      ) +\n    theme(axis.text.x = element_text(angle = 30, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](aesthetics_files/figure-html/unnamed-chunk-6-1.png){width=768}\n:::\n:::\n\n\nThis is a *sina plot* (also known as a *beeswarm plot*), in which point clouds are arranged by a continuous variable on one axis, a categorical variable on the other axis, and spread out in proportion to their density along the spaces in between the categories.\n\nSina plots are a good way to compare distributions of different groups (they are almost always more informative than box plots or violin plots); this plot emphasizes that counties with a majority Black population tend to have relatively low average incomes. The other story that this plot tells is the uneven sizes of the three groups---by separating out the points in each group, this visualization emphasizes the fact that there are very few US counties with majority Black or Hispanic population.\n\nThis plot makes it very difficult to learn anything about positive emotion in Twitter posts. The colors themselves give some guidance: the white in the middle of the scale suggests that it represents some sort of zero point---a \"normal\" amount of positive emotion. Nevertheless, the viewer will have to squint in order to notice the trend for higher income counties to be happier. The emotional variable is not adding much to this visualization.\n\nIn this chapter we have seen how choices about which aesthetics to map to variables make a big difference in the way a data visualization is interpreted. Three visualization of the same data can emphasize tell very different stories.\n\n------------------------------------------------------------------------\n\nPress the \"View Source\" button below to see the hidden code blocks in this chapter.\n\n------------------------------------------------------------------------\n",
    "supporting": [
      "aesthetics_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}